"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[754],{1754:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(2791),r=a(1878),c=a(7689),n=a(2937),o=a(5866),d=a(1652),i=a(4750),l=a(1716),h=a(7892),m=a.n(h),p=a(184);const u=()=>{const{marketplace:e}=(0,c.UO)(),{fetchOrder:s,orderList:a,sumPrice:h,sumTotalPrice:u,sumHpp:x,sumMargin:j,sumAdmin:_,sumOngkir:g,sumCleanMargin:f}=(0,r.Z)((e=>e)),D=new Intl.NumberFormat("pt-BR"),w=new Date,k=new Date(w.getFullYear(),w.getMonth(),1),P=w.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),[b,M]=(0,t.useState)(m()(k)),[y,O]=(0,t.useState)(m()(P));return(0,t.useEffect)((()=>{s(e,b,y)}),[s,e,b,y]),(0,p.jsx)(n.rb,{children:(0,p.jsx)(n.b7,{xs:12,children:(0,p.jsxs)(n.xH,{className:"mb-4",children:[(0,p.jsx)(n.bn,{children:(0,p.jsx)("strong",{children:"Sales Order"})}),(0,p.jsxs)(n.sl,{children:[(0,p.jsxs)("div",{className:"row align-items-end",children:[(0,p.jsx)("div",{className:"col-3",children:(0,p.jsx)(d._,{dateAdapter:i.y,children:(0,p.jsx)(o.C,{components:["DatePicker","DatePicker"],children:(0,p.jsx)(l.M,{label:"Tanggal Awal",value:b,onChange:e=>M(e)})})})}),(0,p.jsx)("div",{className:"col-3",children:(0,p.jsx)(d._,{dateAdapter:i.y,children:(0,p.jsx)(o.C,{components:["DatePicker","DatePicker"],children:(0,p.jsx)(l.M,{label:"Tanggal Akhir",value:y,onChange:e=>O(e)})})})})]}),(0,p.jsxs)("table",{className:"table mtop30",children:[(0,p.jsxs)("thead",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col"}),(0,p.jsx)("th",{scope:"col"}),(0,p.jsx)("th",{scope:"col"}),(0,p.jsx)("th",{scope:"col"}),(0,p.jsx)("th",{scope:"col",children:D.format(h)}),(0,p.jsx)("th",{scope:"col",children:D.format(u)}),(0,p.jsx)("th",{scope:"col",children:D.format(x)}),(0,p.jsx)("th",{scope:"col",children:D.format(j)}),(0,p.jsx)("th",{scope:"col",children:D.format(_)}),(0,p.jsx)("th",{scope:"col",children:D.format(g)}),(0,p.jsx)("th",{scope:"col",children:D.format(f)})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",children:"#"}),(0,p.jsx)("th",{scope:"col",children:"InvoiceNo"}),(0,p.jsx)("th",{scope:"col",children:"Nama Barang"}),(0,p.jsx)("th",{scope:"col",children:"Qty"}),(0,p.jsx)("th",{scope:"col",children:"Sales Price"}),(0,p.jsx)("th",{scope:"col",children:"Total Price"}),(0,p.jsx)("th",{scope:"col",children:"Hpp"}),(0,p.jsx)("th",{scope:"col",children:"Gross"}),(0,p.jsx)("th",{scope:"col",children:"Admin"}),(0,p.jsx)("th",{scope:"col",children:"Ongkir"}),(0,p.jsx)("th",{scope:"col",children:"Clean Margin"})]})]}),(0,p.jsx)("tbody",{children:a.map(((e,s)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:s+1}),(0,p.jsx)("td",{children:e.invoice_no}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{children:e.product_name})}),(0,p.jsx)("td",{children:(0,p.jsx)("b",{children:e.qty})}),(0,p.jsx)("td",{children:D.format(e.sales_price)}),(0,p.jsx)("td",{children:D.format(e.total_price)}),(0,p.jsx)("td",{children:D.format(e.hpp)}),(0,p.jsx)("td",{children:D.format(e.gross_margin)}),(0,p.jsx)("td",{children:D.format(e.power_merchant_fee)}),(0,p.jsx)("td",{children:D.format(e.ongkir_fee)}),(0,p.jsx)("td",{children:D.format(Math.round(e.clean_margin))})]},s)))})]})]})]})})})}},1878:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(5847);const r=function(e){let{url:s,method:a,marketplace_id:t,start_date:r,end_date:c,formData:n,soNumber:o,status:d}=e;return fetch(s,{method:a,headers:{marketplace_id:t,start_date:r,end_date:c,invoice_no:o,status:d},body:n}).then((e=>e)).then((e=>e.json()),(e=>(console.log(e),"")))};var c=a(7892),n=a.n(c);const o=(0,t.Ue)((e=>({sisaPersediaan:0,sumPrice:0,sumTotalPrice:0,sumHpp:0,sumMargin:0,sumAdmin:0,sumOngkir:0,sumCleanMargin:0,productList:[],orderList:[],startDate:"",endDate:"",message:"",setStartDate:async s=>{console.log(s),e({startDate:s})},setEndDate:async s=>{e({endDate:s})},fetchProduct:async()=>{const s=await r({url:"103.127.132.194:8080/product",method:"GET"}),a=await s;e({sisaPersediaan:a.data.sisa_persediaan,productList:a.data.SbsProductList})},fetchOrder:async(s,a,t)=>{const c=new Date(a.$d),o=n()(c).format("YYYY-MM-DD"),d=new Date(t.$d),i=n()(d).format("YYYY-MM-DD"),l=await r({url:"103.127.132.194:8080/so",method:"GET",marketplace_id:"tokopedia"===s?"Tokopedia":"Shopee",start_date:o,end_date:i}),h=await l;e({sumPrice:h.data.sum_price,sumTotalPrice:h.data.sum_total_price,sumHpp:h.data.sum_hpp,sumMargin:h.data.sum_margin,sumAdmin:h.data.sum_admin,sumOngkir:h.data.sum_ongkir,sumCleanMargin:h.data.sum_clean_margin,orderList:h.data.SbsOrderList})},uploadSalesOrder:async s=>{const a=new FormData;a.append("file",s);const t=await r({url:"103.127.132.194:8080/so",method:"POST",formData:a}),c=await t;e({message:c.responseMessage})},uploadPurchaseOrder:async s=>{const a=new FormData;a.append("file",s);const t=await r({url:"103.127.132.194:8080/po",method:"POST",formData:a}),c=await t;e({message:c.responseMessage})},updateOrder:async(s,a)=>{const t=await r({url:"103.127.132.194:8080/so",method:"PUT",soNumber:s,status:a}),c=await t;e({message:c.responseMessage})}})))}}]);
//# sourceMappingURL=754.cec952ca.chunk.js.map